<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:c="http://java.sun.com/jsp/jstl/core"
  xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://java.sun.com/jsf/core"
  xmlns:h="http://java.sun.com/jsf/html" 
  xmlns:m="http://www.ofw.fi/xml/2013/muikku/components-taglib.xsd"
  xmlns:composite="http://java.sun.com/jsf/composite/composite"
  xmlns:jsf="http://xmlns.jcp.org/jsf"
  template="/WEB-INF/templates/flex-base.xhtml">

  <ui:define name="scripts">
    <!-- Muikku locales -->
    <script defer="defer" type="text/javascript" src="#{request.contextPath}/JavaScriptLocales?lang=#{sessionBackingBean.locale}"/>
    <script defer="defer" type="text/javascript" jsf:name="/scripts/gui/locales.js"/>
    <!-- Muikku materials -->
    <ui:include src="/jsf/workspace/workspace-material-scripts.xhtml"/>
    <!--  Datepicker -->
    <script defer="defer" type="text/javascript" src="//cdn.muikkuverkko.fi/libs/jqueryui/1.11.2/i18n/datepicker-fi.js"/>
    <!-- Dust -->
    <script defer="defer" type="text/javascript" src="//cdn.muikkuverkko.fi/libs/dustjs-linkedin/2.7.1/dust-full.min.js"/>
    <script defer="defer" type="text/javascript" src="//cdn.muikkuverkko.fi/libs/dustjs-helpers/1.7.1/dust-helpers.min.js"/>
    <script defer="defer" type="text/javascript" jsf:name="/scripts/gui/dustloader.js"/>
    <!-- Evaluation -->
    <script defer="defer" type="text/javascript" jsf:name="/scripts/gui/evaluation-main.js"/>
    <script defer="defer" type="text/javascript" jsf:name="/scripts/gui/evaluation-modal.js"/>
  </ui:define>
  
  <ui:define name="styles">
    <link rel="stylesheet" type="text/css" href="/css/flex/evaluation-index.css"/>
  </ui:define>  

  <ui:define name="body">
    <ui:insert name="notification-queue">
      <div class="notification-queue">
        <div class="notification-queue-items">
          <ui:insert name="messages">
            <ui:repeat var="message" value="#{facesContext.messageList}">
              <ui:fragment rendered="#{message.severity.ordinal eq 0}">
                <div data-severity="info" class="notification-queue-item notification-queue-item-info"><span>#{message.summary}</span> <a href="javascript:void(null)"></a></div>
              </ui:fragment>
              <ui:fragment rendered="#{message.severity.ordinal eq 1}">
                <div data-severity="warn" class="notification-queue-item notification-queue-item-warn"><span>#{message.summary}</span> <a href="javascript:void(null)"></a></div>
              </ui:fragment>
              <ui:fragment rendered="#{message.severity.ordinal eq 2}">
                <div data-severity="error" class="notification-queue-item notification-queue-item-error"><span>#{message.summary}</span> <a href="javascript:void(null)"></a></div>
              </ui:fragment>
              <ui:fragment rendered="#{message.severity.ordinal eq 3}">
                <div data-severity="fatal" class="notification-queue-item notification-queue-item-fatal"><span>#{message.summary}</span> <a href="javascript:void(null)"></a></div>
              </ui:fragment>
            </ui:repeat>
            <h:messages globalOnly="false" style="display: none" />
          </ui:insert>
        </div>
      </div>
    </ui:insert>
  
    <div class="evaluation-wrapper">
    
      <input type="hidden" name="workspaceEntityId" id="workspaceEntityId" value="#{evaluationMainViewBackingBean.workspaceEntityId}"/>
      <input type="hidden" name="workspaceName" id="workspaceName" value="#{evaluationMainViewBackingBean.workspaceName}"/>
    
      <div class="evaluation-navigation">
        <div class="eval-nav-item eval-home icon-home"></div>
        <div class="eval-nav-item eval-search icon-search"></div>
      </div>
      
      <div class="evaluation-filter-wrapper" id="evaluationFilterWrapper">
      
      </div>
    
      <div class="evaluation-cards-wrapper">
        <div class="evaluation-cards-title">
          <h3>#{i18n.text['plugin.evaluation.evaluationRequestsTitle']}</h3>
          <div class="evaluation-sorting-wrapper">
            <div class="eval-sorting icon-sort-amount-asc selected" title="#{i18n.text['plugin.evaluation.sorting.sortByEvalReqDateAscTitle']}"></div>
            <div class="eval-sorting icon-sort-amount-desc" title="#{i18n.text['plugin.evaluation.sorting.sortByEvalReqDateDescTitle']}"></div>
            <div class="eval-sorting icon-sort-alpha-asc" title="#{i18n.text['plugin.evaluation.sorting.sortBySurnameAscTitle']}"></div>
            <div class="eval-sorting icon-sort-alpha-desc" title="#{i18n.text['plugin.evaluation.sorting.sortBySurnameDescTitle']}"></div>
          </div>
        </div>
        <div class="evaluation-cards-container">

        </div>
      </div>
      
      <div class="evaluation-search-wrapper" id="evaluationSearchrWrapper">
      
      </div>
    
    </div>
  
  </ui:define>
  
</ui:composition>