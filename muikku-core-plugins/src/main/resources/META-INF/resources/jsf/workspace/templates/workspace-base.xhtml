<ui:composition xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:jsf="http://xmlns.jcp.org/jsf"
  template="/WEB-INF/templates/base.xhtml">
  
  <ui:define name="scripts">
    <script defer="defer" jsf:name="scripts/dist/vendor.js" />
    <script defer="defer" jsf:name="scripts/dist/workspace.js" />
    <script>
      MUIKKU_PERMISSIONS.WORKSPACE_HOME_VISIBLE = #{workspaceBackingBean.homeVisible};
	  MUIKKU_PERMISSIONS.WORKSPACE_GUIDES_VISIBLE = #{workspaceBackingBean.guidesVisible};
	  MUIKKU_PERMISSIONS.WORKSPACE_MATERIALS_VISIBLE = #{workspaceBackingBean.materialsVisible};
	  MUIKKU_PERMISSIONS.WORKSPACE_DISCUSSIONS_VISIBLE = #{workspaceBackingBean.discussionsVisible};
	  MUIKKU_PERMISSIONS.WORKSPACE_USERS_VISIBLE = #{workspaceBackingBean.usersVisible};
	  MUIKKU_PERMISSIONS.WORKSPACE_JOURNAL_VISIBLE = #{workspaceBackingBean.journalVisible};
	  MUIKKU_PERMISSIONS.WORKSPACE_MANAGE_WORKSPACE = #{sessionBackingBean.hasWorkspacePermission('MANAGE_WORKSPACE')};
	  MUIKKU_PERMISSIONS.WORKSPACE_MANAGE_WORKSPACE_MATERIALS = #{sessionBackingBean.hasWorkspacePermission('MANAGE_WORKSPACE_MATERIALS')};
	  MUIKKU_PERMISSIONS.WORKSPACE_MANAGE_WORKSPACE_FRONTPAGE = #{sessionBackingBean.hasWorkspacePermission('MANAGE_WORKSPACE_FRONTPAGE')};
	  MUIKKU_PERMISSIONS.WORKSPACE_MANAGE_WORKSPACE_HELP = #{sessionBackingBean.hasWorkspacePermission('MANAGE_WORKSPACE_HELP')};
	  MUIKKU_PERMISSIONS.WORKSPACE_ANNOUNCER_TOOL = #{sessionBackingBean.hasWorkspacePermission('WORKSPACE_ANNOUNCER_TOOL')};
	  MUIKKU_PERMISSIONS.WORKSPACE_MANAGE_PERMISSIONS = #{sessionBackingBean.hasWorkspacePermission('WORKSPACE_MANAGE_PERMISSIONS')};
	  MUIKKU_PERMISSIONS.WORKSPACE_REQUEST_WORKSPACE_ASSESSMENT = #{sessionBackingBean.hasWorkspacePermission('REQUEST_WORKSPACE_ASSESSMENT')};
	  MUIKKU_PERMISSIONS.WORKSPACE_CAN_PUBLISH = #{sessionBackingBean.hasWorkspacePermission('PUBLISH_WORKSPACE')};
	  MUIKKU_PERMISSIONS.WORKSPACE_LIST_WORKSPACE_ANNOUNCEMENTS = #{sessionBackingBean.hasWorkspacePermission('LIST_WORKSPACE_ANNOUNCEMENTS')};
	  MUIKKU_PERMISSIONS.WORSKPACE_LIST_WORKSPACE_MEMBERS = #{sessionBackingBean.hasWorkspacePermission('LIST_WORKSPACE_MEMBERS')};
	  MUIKKU_PERMISSIONS.WORKSPACE_VIEW_WORKSPACE_DETAILS = #{sessionBackingBean.hasWorkspacePermission('VIEW_WORKSPACE_DETAILS')};
	  MUIKKU_PERMISSIONS.WORKSPACE_MANAGE_WORKSPACE_DETAILS = #{sessionBackingBean.hasWorkspacePermission('MANAGE_WORKSPACE_DETAILS')};
	  MUIKKU_PERMISSIONS.WORKSPACE_SIGNUP = #{sessionBackingBean.hasWorkspacePermission('WORKSPACE_SIGNUP')};
	  MUIKKU_PERMISSIONS.WORKSPACE_IS_WORKSPACE_STUDENT = #{sessionBackingBean.hasWorkspacePermission('IS_WORKSPACE_STUDENT')};
	  
	  WORKSPACE_ID = #{workspaceBackingBean.workspaceEntityId}; //With this you can get the workspace as http://dev.muikkuverkko.fi/rest/workspace/workspaces/285/
	  WORKSPACE_NAME = '#{workspaceBackingBean.workspaceName}';
    </script>
  </ui:define>
  
  <ui:define name="styles">
    <link rel="stylesheet" type="text/css" href="/scripts/dist/workspace.css" />
    <link rel="stylesheet" type="text/css" href="/scripts/dist/vendor.css" />
    
    <!-- TODO remove once done, and also from records.xhtml -->
    <link rel="stylesheet" type="text/css" href="/css/deprecated/flex/records.css" />
  </ui:define>

</ui:composition>