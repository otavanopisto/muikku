<ui:composition xmlns="http://www.w3.org/1999/xhtml" 
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:jsf="http://xmlns.jcp.org/jsf"
  template="#{sessionBackingBean.loggedIn ? '/WEB-INF/templates/flex-main-env.xhtml' : '/WEB-INF/templates/flex-main-open.xhtml'}">
  
  <ui:param name="activeTrail" value="index"/>
  
  <ui:define name="scripts">
    <script defer="defer" type="text/javascript" src="#{request.contextPath}/JavaScriptLocales?lang=#{sessionBackingBean.locale}"/>
    <script defer="defer" jsf:name="/scripts/gui/locales.js"/>
    <script defer="defer" type="text/javascript" src="//cdn.muikkuverkko.fi/libs/dustjs-linkedin/2.7.1/dust-full.min.js"/>
    <script defer="defer" type="text/javascript" src="//cdn.muikkuverkko.fi/libs/dustjs-helpers/1.7.1/dust-helpers.min.js"/>
    <script defer="defer" jsf:name="/scripts/gui/dustloader.js"/>
		<ui:fragment rendered="#{!sessionBackingBean.loggedIn}">
      <script defer="defer" type="text/javascript" jsf:name="/scripts/gui/forgotpassword.js"/>
      <script defer="defer" type="text/javascript" src="//cdn.muikkuverkko.fi/libs/slick/1.6.0/slick.min.js"/>
      <script defer="defer" jsf:name="/scripts/gui/frontpage.js"/>
    </ui:fragment>    
    <ui:fragment rendered="#{sessionBackingBean.loggedIn}">
      <script defer="defer" type="text/javascript" src="//cdn.muikkuverkko.fi/libs/jquery.perfect-scrollbar/0.6.10/js/min/perfect-scrollbar.jquery.min.js"/>
      <script defer="defer" jsf:name="/scripts/gui/widget-visits.js"/>
      <script defer="defer" jsf:name="/scripts/gui/widget-courselist.js"/>
      <script defer="defer" jsf:name="/scripts/gui/widget-messages.js"/>
      <script defer="defer" jsf:name="/scripts/gui/widget-announcements.js"/>
      <script defer="defer" jsf:name="/scripts/gui/widget-last-workspace.js"/>
      <script defer="defer" jsf:name="/scripts/gui/check-contact-info.js"/>
    </ui:fragment>
    
  </ui:define>
  
  <ui:define name="styles">
  
    <ui:fragment rendered="#{!sessionBackingBean.loggedIn}">
      <link rel="stylesheet" type="text/css" href="/css/flex/frontpage.css"/>
      <link rel="stylesheet" type="text/css" href="//cdn.muikkuverkko.fi/libs/slick/1.6.0/slick.css"/>
    </ui:fragment>
    
    <ui:fragment rendered="#{sessionBackingBean.loggedIn}">
      <link rel="stylesheet" type="text/css" href="/css/flex/flex-main.css"/>
      <link rel="stylesheet" type="text/css" href="//cdn.muikkuverkko.fi/libs/jquery.perfect-scrollbar/0.6.10/css/perfect-scrollbar.min.css"/>
    </ui:fragment>
    
  </ui:define>  
  
  <ui:define name="grid-content">
    <!--  If user is unauthenticated -->
    <ui:fragment rendered="#{!sessionBackingBean.loggedIn}">
      
      <!-- Studying -->
  	  <section id="studying" class="frontpage-section">
		    <h2 class="frontpage-section-title">#{i18n.text['plugin.sectionTitle.studying']}</h2>
		    <div class="frontpage-studying frontpage-box studying-left-box nettilukio">
		      <div class="studying-image"><img src="/gfx/kuva_nettilukio.png" alt="" title="" /></div>
		      <div class="studying-title">#{i18n.text['plugin.studying.nettilukio.title']}</div>
		      <div class="studying-description">#{i18n.text['plugin.studying.nettilukio.description']}</div>
		      <div class="studying-read-more">
		        <a href="http://www.nettilukio.fi/nettilukio_esittely" target="top" class="studying-read-more-link">#{i18n.text['plugin.studying.readMore.link']}</a>
		      </div>
		    </div>
		    <div class="frontpage-studying frontpage-box studying-center-box nettiperuskoulu">
		      <div class="studying-image"><img src="/gfx/kuva_nettiperuskoulu.png" alt="" title="" /></div>
		      <div class="studying-title">#{i18n.text['plugin.studying.nettiperuskoulu.title']}</div>
		      <div class="studying-description">#{i18n.text['plugin.studying.nettiperuskoulu.description']}</div>
		      <div class="studying-read-more">
		        <a href="http://www.nettiperuskoulu.fi/esittely_nettipk" target="top" class="studying-read-more-link">#{i18n.text['plugin.studying.readMore.link']}</a>
		      </div>
		    </div>
		    <div class="frontpage-studying frontpage-box studying-right-box aineopiskelu">
		      <div class="studying-image"><img src="/gfx/kuva_aineopiskelu.png" alt="" title="" /></div>
		      <div class="studying-title">#{i18n.text['plugin.studying.aineopiskelu.title']}</div>
		      <div class="studying-description">#{i18n.text['plugin.studying.aineopiskelu.description']}</div>
		      <div class="studying-read-more">
		        <a href="http://aineopiskelu.otavanopisto.fi/esittely_aineopiskelu" target="top" class="studying-read-more-link">#{i18n.text['plugin.studying.readMore.link']}</a>
		      </div>
		    </div>
		  </section>
		  
		  <!-- Videos -->
		  <section id="videos" class="frontpage-section">
		    <div class="frontpage-videos frontpage-box">
		      <div class="carousel-videos-wrapper">
		        
		        <div class="carousel-video-container">
		          <div class="carousel-video ar169">
		            <iframe width="1280" height="720" src="https://www.youtube.com/embed/OD5Oj50vyh0?rel=0&amp;showinfo=0" style="border:0;" allowfullscreen="allowfullscreen"></iframe>
		          </div>
		          <div class="carousel-video-description"></div>
		        </div>
		        
		        <div class="carousel-video-container">
		          <div class="carousel-video ar169">
		            <iframe width="1280" height="720" src="https://www.youtube.com/embed/CJcpWZD0VT8?rel=0&amp;showinfo=0" style="border:0;" allowfullscreen="allowfullscreen"></iframe>
		          </div>
		          <div class="carousel-video-description"></div>
		        </div>
		        
		        <div class="carousel-video-container">
		          <div class="carousel-video ar169">
		            <iframe width="1280" height="720" src="https://www.youtube.com/embed/EbJnWIyOJNg?rel=0&amp;showinfo=0" style="border:0;" allowfullscreen="allowfullscreen"></iframe>
		          </div>
		          <div class="carousel-video-description"></div>
		        </div>
		        
		        <div class="carousel-video-container">
		          <div class="carousel-video ar169">
		            <iframe width="1280" height="720" src="https://www.youtube.com/embed/iOKUoAAQ7Uk?rel=0&amp;showinfo=0" style="border:0;" allowfullscreen="allowfullscreen"></iframe>
		          </div>
		          <div class="carousel-video-description"></div>
		        </div>
		        
		      </div>
		    </div>
		    <div class="carousel-video-controls-wrapper">
		      
		    </div>
		  </section>
		  
		  <!-- News -->
		  <section id="news" class="frontpage-section">
		    <h2 class="frontpage-section-title">#{i18n.text['plugin.sectionTitle.news']}</h2>
		    
		    <div class="frontpage-events frontpage-box">
		      <h3 class="frontpage-box-title">#{i18n.text['plugin.frontpageBoxTitle.events']}</h3>
		      <div class="frontpage-events-container"></div>
		    </div>
		    
		    <div class="frontpage-news frontpage-box">
		      <h3 class="frontpage-box-title">#{i18n.text['plugin.frontpageBoxTitle.news']}</h3>
		      <div class="frontpage-news-container"></div>
		    </div>
		    
		    <div class="frontpage-images frontpage-box">
		      <div class="carousel-images-wrapper">
		      
		        <div class="carousel-image-container">
		          <div class="carousel-image"><img src="/gfx/kuva1.jpg" alt="" title="" /></div>
		          <div class="carousel-image-description">#{i18n.text['plugin.images.description.image1']}</div>
		        </div>
		        
		        <div class="carousel-image-container">
		          <div class="carousel-image"><img src="/gfx/kuva2.jpg" alt="" title="" /></div>
		          <div class="carousel-image-description">#{i18n.text['plugin.images.description.image2']}</div>
		        </div>
		        
		        <div class="carousel-image-container">
		          <div class="carousel-image"><img src="/gfx/kuva3.jpg" alt="" title="" /></div>
		          <div class="carousel-image-description">#{i18n.text['plugin.images.description.image3']}</div>
		        </div>
		        
		        <div class="carousel-image-container">
		          <div class="carousel-image"><img src="/gfx/kuva4.jpg" alt="" title="" /></div>
		          <div class="carousel-image-description">#{i18n.text['plugin.images.description.image4']}</div>
		        </div>
		        
		        <div class="carousel-image-container">
		          <div class="carousel-image"><img src="/gfx/kuva6.jpg" alt="" title="" /></div>
		          <div class="carousel-image-description">#{i18n.text['plugin.images.description.image5']}</div>
		        </div>
		        
		      </div>
		      
		      <div class="carousel-image-controls-wrapper">
		      </div>
		    </div>
		    
		    <div class="frontpage-posts frontpage-box">
		      <h3 class="frontpage-box-title">#{i18n.text['plugin.frontpageBoxTitle.blogs']}</h3>
		      <div class="frontpage-posts-container"></div>
		    </div>
		    
		  </section>
		  
		  <!-- Otavan Opisto -->
		  <section id="organization" class="frontpage-section">
		    <div class="frontpage-organization frontpage-box">
		      <div class="organization-wrapper">
		        <div class="organization-some-box">
		          <div class="organization-some-title">#{i18n.text['plugin.organization.some.title']}</div>
		          <div class="some-icon"><a class="icon-some-facebook" href="https://www.facebook.com/otavanopisto" target="top"></a></div>
		          <div class="some-icon"><a class="icon-some-twitter" href="https://twitter.com/OtavanOpisto" target="top"></a></div>
		          <div class="some-icon"><a class="icon-some-instagram" href="https://www.instagram.com/otavanopisto/" target="top"></a></div>
		          <div class="some-icon"><a class="icon-some-pinterest" href="https://fi.pinterest.com/otavanopisto/" target="top"></a></div>
		          <div class="some-icon"><a class="icon-some-linkedin" href="https://www.linkedin.com/company/106028" target="top"></a></div>
		        </div>
		        <div class="organization-description-box">
		          <div class="organization-description"><h:outputText value="#{i18n.text['plugin.organization.description']}" escape="false"/></div>
		          <div class="organization-button"><a href="http://www.otavanopisto.fi" target="top" class="organization-external-link site-link">www.otavanopisto.fi</a></div>
		          <div class="organization-button"><a href="http://www.otavanopisto.fi/uutiskirje" target="top" class="organization-external-link newsletter-link">#{i18n.text['plugin.organization.newsletter.link']}</a></div>
		        </div>
		        <div class="organization-logo-box">
		          <img src="/gfx/of-organization-logo.jpg" alt="Logo" title="Logo" />
		        </div>
		      </div>
		    </div>
		  </section>
  
    </ui:fragment>
    
    <!--  If user is authenticated -->
    <ui:fragment rendered="#{sessionBackingBean.loggedIn and sessionBackingBean.isActiveUser}">
	    <ui:fragment rendered="#{sessionBackingBean.isStudent}">
	      <div class="flex-row">
		      <div class="lg-flex-cell-16 md-flex-cell-16 sm-flex-cell-full md-flex-order-1 sm-flex-order-1">
		        <div id="last-workspace">
		        
		        </div>
		      </div>
	      </div>
	    </ui:fragment>
	    <div class="flex-row">
		    <div class="lg-flex-cell12-4 md-flex-cell-8 sm-flex-cell-full lg-flex-cell-first md-flex-order-3 sm-flex-order-3">
		      <div class="box box-max-width">
		        <div id="visits"></div> 
		        <div id="workspaces"></div>
		      </div>
		    </div>
		    <div class="lg-flex-cell12-4 md-flex-cell-8 sm-flex-cell-full  md-flex-order-4 sm-flex-order-4">
		      <div class="box box-max-width">
		        <div id="messages"></div>
		      </div>
		    </div>
		    <div class="lg-flex-cell12-4 md-flex-cell-16 sm-flex-cell-full lg-flex-cell-last md-flex-order-2 sm-flex-order-2">
		      <div class="box box-max-width">
		        <div id="announcements"></div>
		      </div>
		    </div>
	    </div>
	  </ui:fragment>

    <ui:fragment rendered="#{sessionBackingBean.loggedIn and not sessionBackingBean.isActiveUser}">
      <div class="lg-flex-cell-full md-flex-cell-full sm-flex-cell-full">
        <div class="box box-max-width">
          <h:outputText escape="false" value="#{i18n.text['plugin.frontpage.inactiveStudent.message']}" />
        </div>
      </div>
    </ui:fragment>

  </ui:define>
  
  
</ui:composition>
