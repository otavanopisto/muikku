<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:fn="http://java.sun.com/jsp/jstl/functions"
    template="/WEB-INF/templates/teese.xhtml">
    
  <ui:define name="content">
    <p>Foorumi: #{param['area']}</p>

    <ui:include src="/widgets/forumthreads.xhtml">
      <ui:param name="forumArea" value="#{Forum.getForumArea(param['area'])}" />
    </ui:include>

    <div>
      <h:form id="newForumThread">
        <input type="hidden" name="newForumThread:area" value="#{param['area']}" />
        <h:outputLabel for="title" value="Title:"/>
        <h:inputText id="title" />
        <h:message for="title" errorClass="invalid"/>

        <h:outputLabel for="message" value="Message:"/>
        <h:inputText id="message" />
        <h:message for="message" errorClass="invalid"/>
        
        <h:commandButton action="#{Forum.createForumThread(Forum.getForumArea(param['newForumThread:area']), param['newForumThread:title'], param['newForumThread:message'])}" value="New thread"/>
      </h:form>
    </div>

  </ui:define>

</ui:composition>
